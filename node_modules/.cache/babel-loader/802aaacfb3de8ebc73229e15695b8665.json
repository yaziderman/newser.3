{"ast":null,"code":"import _classCallCheck from \"C:/Users/yazid/newser/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/yazid/newser/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"C:/Users/yazid/newser/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:/Users/yazid/newser/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\yazid\\\\newser\\\\src\\\\Components\\\\News.js\";\nimport React, { Component } from \"react\";\nimport config from \"../extra/config\";\nimport ApiHelper from \"../extra/ApiHelper\";\nimport NewsCard from \"./NewsCard\";\nimport SearchBox from \"../Ui/SearchBox\";\nimport makeExpanding from \"../Ui/expanding-animation\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar ExpandingSearchBox = makeExpanding(SearchBox);\n_c = ExpandingSearchBox;\n\nvar titleize = require(\"titleize\");\n\nvar scrollerStyle = {\n  backgroundColor: \"#003768bd\"\n};\n\nvar News = /*#__PURE__*/function (_Component) {\n  _inherits(News, _Component);\n\n  var _super = _createSuper(News);\n\n  function News() {\n    var _this;\n\n    _classCallCheck(this, News);\n\n    _this = _super.call(this);\n\n    _this.handleOnSearch = function (e) {\n      var searchStr = e.target.value;\n      var searchResults = _this.state.news;\n\n      if (searchStr.trim() != \"\") {\n        searchResults = _this.state.news.filter(function (item) {\n          return item.title.toLowerCase().includes(searchStr);\n        });\n      }\n\n      _this.setState({\n        searchNews: searchResults\n      });\n    };\n\n    _this.state = {\n      category: \"\",\n      news: null,\n      searchNews: null\n    };\n    return _this;\n  }\n\n  _createClass(News, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var slug = this.props.match.params.slug;\n      this.setState({\n        category: slug\n      }, function () {\n        var cashedNews = localStorage.getItem(\"FULLNEWS-\" + slug);\n\n        if (cashedNews !== null) {\n          var newsList = JSON.parse(cashedNews);\n          this.setState({\n            news: newsList,\n            searchNews: newsList\n          });\n        } else {\n          this.fetchAllNewsByCategory(slug);\n        }\n      });\n    }\n  }, {\n    key: \"fetchAllNewsByCategory\",\n    value: function fetchAllNewsByCategory(category) {\n      var _this2 = this;\n\n      var criteria = {\n        category: category\n      };\n      ApiHelper.fetchNews(config.headlinesEndpoint, criteria, function (response) {\n        _this2.setState({\n          news: response.data.articles,\n          searchNews: response.data.articles\n        });\n\n        localStorage.setItem(\"FULLNEWS-\" + category, JSON.stringify(response.data.articles));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var news = this.state.news;\n      var searchNews = this.state.searchNews;\n      var style = {\n        float: \"right\"\n      };\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"hero is-small\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hero-body p-t-none\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"container\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"title\",\n                children: [titleize(this.state.category), \" News\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"subtitle\",\n                children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"/\",\n                  className: \"newserAction\",\n                  children: \"\\xABCategories\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: style,\n                  children: /*#__PURE__*/_jsxDEV(ExpandingSearchBox, {\n                    handleOnSearch: this.handleOnSearch\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 86,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"columns is-mobile- is-multiline is-centered\",\n          children: !news ? /*#__PURE__*/_jsxDEV(React.Fragment, {\n            children: [1, 2, 3, 4].map(function (mock, index) {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"column is-half\",\n                children: /*#__PURE__*/_jsxDEV(NewsCard, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 19\n                }, _this3)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 17\n              }, _this3);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this) : news.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"skeleton\",\n            children: \"No News Found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this) : searchNews.map(function (newsItem, index) {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"column is-half\",\n              children: /*#__PURE__*/_jsxDEV(NewsCard, {\n                newsItem: newsItem\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 17\n              }, _this3)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, _this3);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return News;\n}(Component);\n\nexport default News;\n\nvar _c;\n\n$RefreshReg$(_c, \"ExpandingSearchBox\");","map":{"version":3,"sources":["C:/Users/yazid/newser/src/Components/News.js"],"names":["React","Component","config","ApiHelper","NewsCard","SearchBox","makeExpanding","ExpandingSearchBox","titleize","require","scrollerStyle","backgroundColor","News","handleOnSearch","e","searchStr","target","value","searchResults","state","news","trim","filter","item","title","toLowerCase","includes","setState","searchNews","category","slug","props","match","params","cashedNews","localStorage","getItem","newsList","JSON","parse","fetchAllNewsByCategory","criteria","fetchNews","headlinesEndpoint","response","data","articles","setItem","stringify","style","float","map","mock","index","length","newsItem"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport config from \"../extra/config\";\r\nimport ApiHelper from \"../extra/ApiHelper\";\r\nimport NewsCard from \"./NewsCard\";\r\nimport SearchBox from \"../Ui/SearchBox\";\r\nimport makeExpanding from \"../Ui/expanding-animation\";\r\n\r\nconst ExpandingSearchBox = makeExpanding(SearchBox);\r\n\r\nconst titleize = require(\"titleize\");\r\n\r\nconst scrollerStyle = {\r\n  backgroundColor: \"#003768bd\"\r\n};\r\n\r\nclass News extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      category: \"\",\r\n      news: null,\r\n      searchNews: null\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    //injectTapEventPlugin();\r\n  }\r\n\r\n  fetchAllNewsByCategory(category) {\r\n    let criteria = { category: category };\r\n    ApiHelper.fetchNews(config.headlinesEndpoint, criteria, response => {\r\n      this.setState({\r\n        news: response.data.articles,\r\n        searchNews: response.data.articles\r\n      });\r\n      localStorage.setItem(\r\n        \"FULLNEWS-\" + category,\r\n        JSON.stringify(response.data.articles)\r\n      );\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { slug } = this.props.match.params;\r\n    this.setState({ category: slug }, function() {\r\n      let cashedNews = localStorage.getItem(\"FULLNEWS-\" + slug);\r\n      if (cashedNews !== null) {\r\n        let newsList = JSON.parse(cashedNews);\r\n        this.setState({ news: newsList, searchNews: newsList });\r\n      } else {\r\n        this.fetchAllNewsByCategory(slug);\r\n      }\r\n    });\r\n  }\r\n\r\n  handleOnSearch = e => {\r\n    let searchStr = e.target.value;\r\n    let searchResults = this.state.news;\r\n    if (searchStr.trim() != \"\") {\r\n      searchResults = this.state.news.filter(item =>\r\n        item.title.toLowerCase().includes(searchStr)\r\n      );\r\n    }\r\n    this.setState({ searchNews: searchResults });\r\n  };\r\n\r\n  render() {\r\n    let news = this.state.news;\r\n    let searchNews = this.state.searchNews;\r\n    const style = {\r\n      float: \"right\"\r\n    };\r\n\r\n    return (\r\n      <div>\r\n        <section className=\"hero is-small\">\r\n          <div className=\"hero-body p-t-none\">\r\n            <div className=\"container\">\r\n              <h1 className=\"title\">{titleize(this.state.category)} News</h1>\r\n              <h2 className=\"subtitle\">\r\n                <a href=\"/\" className=\"newserAction\">\r\n                  &#171;Categories\r\n                </a>\r\n                  <div style={style}>\r\n                    <ExpandingSearchBox handleOnSearch={this.handleOnSearch} />\r\n                  </div>\r\n              </h2>\r\n            </div>\r\n          </div>\r\n        </section>\r\n        <div className=\"columns is-mobile- is-multiline is-centered\">\r\n          {!news ? (\r\n            <React.Fragment>\r\n              {[1, 2, 3, 4].map((mock, index) => (\r\n                <div className=\"column is-half\" key={index}>\r\n                  <NewsCard />\r\n                </div>\r\n              ))}\r\n            </React.Fragment>\r\n          ) : news.length === 0 ? (\r\n            <div className=\"skeleton\">No News Found</div>\r\n          ) : (\r\n            searchNews.map((newsItem, index) => (\r\n              <div className=\"column is-half\" key={index}>\r\n                <NewsCard newsItem={newsItem} />\r\n              </div>\r\n            ))\r\n          )}\r\n          {/* <ScrollUpButton style={scrollerStyle} */}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default News;\r\n"]},"metadata":{},"sourceType":"module"}