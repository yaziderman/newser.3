(this["webpackJsonpnewser.2"]=this["webpackJsonpnewser.2"]||[]).push([[6],{181:function(e,t,n){"use strict";n.r(t);var i=n(11),s=n(10),a=n(13),r=n(12),c=n(0),o=n.n(c),l=n(22),u=n.n(l),h=n(81),d=n(78),j=n(1),p=function(e){Object(a.a)(n,e);var t=Object(r.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=document.querySelectorAll("img[data-src]");e.forEach((function(e){var t;(t=e).setAttribute("src",t.getAttribute("data-src")),t.onload=function(){t.removeAttribute("data-src")}}))}},{key:"render",value:function(){var e=this.props.newsItem,t="card is-full-height with-shadow-on-hover";e||(t+=" skeleton");var n=e&&e.urlToImage?e.urlToImage:"",i=e&&e.title?e.title:"",s=e&&e.author?e.author:"",a=e&&e.content?e.content:"";return Object(j.jsxs)("div",{className:t,children:[Object(j.jsx)("div",{className:"card-image",children:Object(j.jsx)("figure",{className:"image is-4by3 article",children:Object(j.jsx)("img",{"data-src":n,alt:i})})}),Object(j.jsxs)("div",{className:"card-content",children:[Object(j.jsx)("div",{className:"media",children:Object(j.jsxs)("div",{className:"media-content",children:[Object(j.jsx)("p",{className:"title is-4",children:i}),Object(j.jsx)("p",{className:"subtitle is-6",children:s})]})}),Object(j.jsxs)("div",{className:"content",children:[a,Object(j.jsx)("br",{}),e&&e.publishedAt?Object(j.jsx)("time",{dateTime:e.publishedAt,children:d.a.getDateInFormat(e.publishedAt)}):""]})]})]})}}]),n}(c.Component),f=n(180),b=n(179),m=function(e){var t=e.isOpen,n=e.onClick,i=e.additionalStyles,s=e.handleOnSearch,a={open:{width:210},closed:{width:0},smallIcon:{width:30,height:30},icon:{width:40,height:40,padding:5,top:10},frame:{border:"solid 1px black",borderRadius:5}},r=t?a.open:a.closed;r=Object.assign(r,i?i.text:{});var c=Object.assign({},r,a.frame,i?i.frame:{});return c.width+=a.icon.width+5,Object(j.jsxs)("div",{style:c,children:[Object(j.jsx)(f.a,{iconStyle:a.smallIcon,style:a.icon,onClick:function(){return n()}}),Object(j.jsx)(b.a,{name:"search",style:r,onChange:function(e){return s(e)}})]})},O=n(82),g={transition:"width 0.75s cubic-bezier(0.000, 0.795, 0.000, 1.000)"},v=function(e){return function(t){Object(a.a)(c,t);var n=Object(r.a)(c);function c(e){var t;return Object(i.a)(this,c),(t=n.call(this,e)).onClick=function(){t.setState({isOpen:!t.state.isOpen})},t.state={isOpen:!1},t}return Object(s.a)(c,[{key:"render",value:function(){return Object(j.jsx)(e,Object(O.a)(Object(O.a)({},this.props),{},{isOpen:this.state.isOpen,onClick:this.onClick,additionalStyles:{text:g,frame:g},handleOnSearch:this.props.handleOnSearch}))}}]),c}(c.Component)}(m),y=n(29),w=function(e){Object(a.a)(n,e);var t=Object(r.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).handleOnSearch=function(t){var n=t.target.value,i=e.state.news;""!=n.trim()&&(i=e.state.news.filter((function(e){return e.title.toLowerCase().includes(n)}))),e.setState({searchNews:i})},e.state={category:"",news:null,searchNews:null},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.slug;this.setState({category:e},(function(){var t=localStorage.getItem("FULLNEWS-"+e);if(null!==t){var n=JSON.parse(t);this.setState({news:n,searchNews:n})}else this.fetchAllNewsByCategory(e)}))}},{key:"fetchAllNewsByCategory",value:function(e){var t=this,n={category:e};h.a.fetchNews(u.a.headlinesEndpoint,n,(function(n){t.setState({news:n.data.articles,searchNews:n.data.articles}),localStorage.setItem("FULLNEWS-"+e,JSON.stringify(n.data.articles))}))}},{key:"render",value:function(){var e=this.state.news,t=this.state.searchNews;return Object(j.jsxs)("div",{children:[Object(j.jsx)("section",{className:"hero is-small",children:Object(j.jsx)("div",{className:"hero-body p-t-none",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsxs)("h1",{className:"title",children:[y(this.state.category)," News"]}),Object(j.jsxs)("h2",{className:"subtitle",children:[Object(j.jsx)("a",{href:"/",className:"newserAction",children:"\xabCategories"}),Object(j.jsx)("div",{style:{float:"right"},children:Object(j.jsx)(v,{handleOnSearch:this.handleOnSearch})})]})]})})}),Object(j.jsx)("div",{className:"columns is-mobile- is-multiline is-centered",children:e?0===e.length?Object(j.jsx)("div",{className:"skeleton",children:"No News Found"}):t.map((function(e,t){return Object(j.jsx)("div",{className:"column is-half",children:Object(j.jsx)(p,{newsItem:e})},t)})):Object(j.jsx)(o.a.Fragment,{children:[1,2,3,4].map((function(e,t){return Object(j.jsx)("div",{className:"column is-half",children:Object(j.jsx)(p,{})},t)}))})})]})}}]),n}(c.Component);t.default=w},78:function(e,t,n){"use strict";n(0);var i=n(101),s=n(98),a=n.n(s),r=n(22),c=n.n(r),o=n(1),l=n(99),u={isEmpty:function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},apiURL:function(e){var t=e.uri||"",n=e.pathVar||{},i=e.query||{};if(t=t.replace(/:(\w+)(\/|\b)/g,(function(e,t,i){return n[t]+i})),i){var s=l.stringify(i);""!==s&&(t=t+"?"+s)}return 0===t.indexOf("http")?t:c.a.api(t)},pushMsg:function(e,t){Object(i.a)(e,{postion:t})},pushSuccess:function(e,t){i.a.success(e,{postion:t})},pushError:function(e,t){i.a.error(e,{postion:t})},pushWarn:function(e,t){i.a.warn(e,{postion:t})},pushInfo:function(e,t){i.a.info(e,{postion:t})},handleError:function(e){e&&(e.message?i.a.error(e.message):i.a.error("GENERIC_ERROR"))},properExternalUrl:function(e){var t=e;return/^https?:\/\//i.test(e)||(t="http://"+e),t},getDateInFormat:function(e,t){return t=t||c.a.displayDateTimeFormat,a()(e).format(t)},newLineToBr:function(e){return(e=(e+="").replace("<br>","")).split("\n").map((function(e,t){return Object(o.jsx)("p",{children:e},t)}))},isAndroid:function(){return navigator.userAgent.match(/Android/i)},isBlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},isIOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},isOpera:function(){return navigator.userAgent.match(/Opera Mini/i)},isWindows:function(){return navigator.userAgent.match(/IEMobile/i)},isMobile:function(){return!this.isEmpty(this.isAndroid()||this.isBlackBerry()||this.isIOS()||this.isOpera()||this.isWindows())},getCleanText:function(e){return e.replace(/<(.|\n)*?>/g,"").replace("&amp;","&").replace("&quot;","'")}};t.a=u},81:function(e,t,n){"use strict";var i=n(82),s=n(22),a=n.n(s),r=n(89),c=n.n(r),o=n(78),l={fetchNews:function(e,t,n){var s={country:a.a.country,apiKey:a.a.apiKey},r=Object(i.a)(Object(i.a)({},s),t);c.a.get(o.a.apiURL({uri:"https://newsapi.org/v2/"+e,query:r})).then((function(e){n&&n(e)})).catch((function(e){console.log("Error fetching cities")}))}};t.a=l}}]);
//# sourceMappingURL=6.477b5210.chunk.js.map